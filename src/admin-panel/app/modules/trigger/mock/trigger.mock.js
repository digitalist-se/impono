/**
 * Copyright (C) 2015 Digimedia Sp. z.o.o. d/b/a Clearcode
 *
 * This program is free software: you can redistribute it and/or modify it under
 * the terms of the GNU Affero General Public License as published by the Free
 * Software Foundation, either version 3 of the License, or (at your option) any
 * later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 */

/* eslint-disable */
var triggersList = [{
        id: 0,
        name: 'Trigger 0_0',
        created_at: new Date('2015-04-14T09:50:28+0200'),
        updated_at: new Date('2015-04-14T09:50:28+0200'),
        type: 0,
        container: 0,
        conditions: [{
            id: 1,
            variable: 'path',
            condition: 'contains',
            value: 'wykop.p',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 2,
            variable: 'path',
            condition: 'contains',
            value: 'mirko',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }],
        tags_count: 11
    },{
        id: 1,
        name: 'Trigger 0_1',
        created_at: new Date('2015-04-14T09:50:28+0200'),
        updated_at: new Date('2015-04-14T09:50:28+0200'),
        type: 0,
        container: 0,
        conditions: [{
            id: 3,
            variable: 'path',
            condition: 'contains',
            value: 'wykop.p',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 4,
            variable: 'path',
            condition: 'contains',
            value: 'mirko',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 5,
            variable: 'hostname',
            condition: 'ends_with',
            value: '.pl',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }],
        tags_count: 11
    }, {
        id: 2,
        name: 'Trigger 0_2',
        created_at: new Date('2015-04-14T09:50:28+0200'),
        updated_at: new Date('2015-04-14T09:50:28+0200'),
        type: 0,
        container: 0,
        conditions: [{
            id: 6,
            variable: 'path',
            condition: 'contains',
            value: 'wykop.p',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 7,
            variable: 'path',
            condition: 'contains',
            value: 'mirko',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 8,
            variable: 'hostname',
            condition: 'ends_with',
            value: '.pl',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }],
        tags_count: 11
    }, {
        id: 3,
        name: 'Trigger 0_3',
        created_at: new Date('2015-04-14T09:50:28+0200'),
        updated_at: new Date('2015-04-14T09:50:28+0200'),
        type: 0,
        container: 0,
        conditions: [{
            id: 9,
            variable: 'path',
            condition: 'contains',
            value: 'wykop.p',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 10,
            variable: 'path',
            condition: 'contains',
            value: 'mirko',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }],
        tags_count: 11
    }, {
        id: 4,
        name: 'Trigger 0_4',
        created_at: new Date('2015-04-14T09:50:28+0200'),
        updated_at: new Date('2015-04-14T09:50:28+0200'),
        type: 0,
        container: 0,
        conditions: [{
            id: 11,
            variable: 'path',
            condition: 'contains',
            value: 'wykop.p',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 12,
            variable: 'path',
            condition: 'contains',
            value: 'mirko',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 13,
            variable: 'hostname',
            condition: 'ends_with',
            value: '.pl',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }],
        tags_count: 11
    }, {
        id: 5,
        name: 'Trigger 0_5',
        created_at: new Date('2015-04-14T09:50:28+0200'),
        updated_at: new Date('2015-04-14T09:50:28+0200'),
        type: 0,
        container: 0,
        conditions: [{
            id: 11,
            variable: 'path',
            condition: 'contains',
            value: 'wykop.p',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 12,
            variable: 'path',
            condition: 'contains',
            value: 'mirko',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 13,
            variable: 'hostname',
            condition: 'ends_with',
            value: '.pl',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }],
        tags_count: 11
    }, {
        id: 6,
        name: 'Trigger 0_6',
        created_at: new Date('2015-04-14T09:50:28+0200'),
        updated_at: new Date('2015-04-14T09:50:28+0200'),
        type: 0,
        container: 0,
        conditions: [{
            id: 1,
            variable: 'path',
            condition: 'contains',
            value: 'wykop.p',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 2,
            variable: 'path',
            condition: 'contains',
            value: 'mirko',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }],
        tags_count: 11
    }, {
        id: 7,
        name: 'Trigger 0_7',
        created_at: new Date('2015-04-14T09:50:28+0200'),
        updated_at: new Date('2015-04-14T09:50:28+0200'),
        type: 0,
        container: 0,
        conditions: [{
            id: 3,
            variable: 'path',
            condition: 'contains',
            value: 'wykop.p',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 4,
            variable: 'path',
            condition: 'contains',
            value: 'mirko',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 5,
            variable: 'hostname',
            condition: 'ends_with',
            value: '.pl',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }],
        tags_count: 11
    }, {
        id: 8,
        name: 'Trigger 0_8',
        created_at: new Date('2015-04-14T09:50:28+0200'),
        updated_at: new Date('2015-04-14T09:50:28+0200'),
        type: 0,
        container: 0,
        conditions: [{
            id: 6,
            variable: 'path',
            condition: 'contains',
            value: 'wykop.p',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 7,
            variable: 'path',
            condition: 'contains',
            value: 'mirko',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 8,
            variable: 'hostname',
            condition: 'ends_with',
            value: '.pl',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }],
        tags_count: 11
    }, {
        id: 9,
        name: 'Trigger 0_9',
        created_at: new Date('2015-04-14T09:50:28+0200'),
        updated_at: new Date('2015-04-14T09:50:28+0200'),
        type: 0,
        container: 0,
        conditions: [{
            id: 9,
            variable: 'path',
            condition: 'contains',
            value: 'wykop.p',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 10,
            variable: 'path',
            condition: 'contains',
            value: 'mirko',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }],
        tags_count: 11
    }, {
        id: 10,
        name: 'Trigger 0_10',
        created_at: new Date('2015-04-14T09:50:28+0200'),
        updated_at: new Date('2015-04-14T09:50:28+0200'),
        type: 0,
        container: 0,
        conditions: [{
            id: 11,
            variable: 'path',
            condition: 'contains',
            value: 'wykop.p',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 12,
            variable: 'path',
            condition: 'contains',
            value: 'mirko',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 13,
            variable: 'hostname',
            condition: 'ends_with',
            value: '.pl',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }],
        tags_count: 11
    }, {
        id: 11,
        name: 'Trigger 0_11',
        created_at: new Date('2015-04-14T09:50:28+0200'),
        updated_at: new Date('2015-04-14T09:50:28+0200'),
        type: 0,
        container: 0,
        conditions: [{
            id: 11,
            variable: 'path',
            condition: 'contains',
            value: 'wykop.p',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 12,
            variable: 'path',
            condition: 'contains',
            value: 'mirko',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 13,
            variable: 'hostname',
            condition: 'ends_with',
            value: '.pl',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }],
        tags_count: 11
    }, {
        id: 12,
        name: 'Trigger 1_12',
        created_at: new Date('2015-04-14T09:50:28+0200'),
        updated_at: new Date('2015-04-14T09:50:28+0200'),
        type: 0,
        container: 1,
        conditions: [{
            id: 11,
            variable: 'path',
            condition: 'contains',
            value: 'wykop.p',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 12,
            variable: 'path',
            condition: 'contains',
            value: 'mirko',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 13,
            variable: 'hostname',
            condition: 'ends_with',
            value: '.pl',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }],
        tags_count: 11
    }, {
        id: 13,
        name: 'Trigger 1_13',
        created_at: new Date('2015-04-14T09:50:28+0200'),
        updated_at: new Date('2015-04-14T09:50:28+0200'),
        type: 0,
        container: 1,
        conditions: [{
            id: 11,
            variable: 'path',
            condition: 'contains',
            value: 'wykop.p',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 12,
            variable: 'path',
            condition: 'contains',
            value: 'mirko',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 13,
            variable: 'hostname',
            condition: 'ends_with',
            value: '.pl',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }],
        tags_count: 11
    }, {
        id: 14,
        name: 'Trigger 2_14',
        created_at: new Date('2015-04-14T09:50:28+0200'),
        updated_at: new Date('2015-04-14T09:50:28+0200'),
        type: 0,
        container: 2,
        conditions: [{
            id: 11,
            variable: 'path',
            condition: 'contains',
            value: 'wykop.p',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 12,
            variable: 'path',
            condition: 'contains',
            value: 'mirko',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }, {
            id: 13,
            variable: 'hostname',
            condition: 'ends_with',
            value: '.pl',
            created_at: new Date('2015-04-14T09:50:28+0200'),
            updated_at: new Date('2015-04-14T09:50:28+0200')
        }],
        tags_count: 11
    }
];

/**
 * @name tag.tagMock
 *
 * @param {$httpBackend} $httpBackend
 * @param {ngTableParams} ngTableParams
 * @param {$mockProvider} Mock
 */
function triggerMock($httpBackend, ngTableParams, $filter, Mock) {
    var triggers = Mock.all('triggers');

    var condtions = [
        {
            type: 0,
            name: 'Page View',
            strategies: [
                0,
                1
            ],
            variables: [
                {
                    type: 'url',
                    name: 'Page Url',
                    options: {
                        required: false
                    },
                    actions: [
                        {
                            type: 'contains',
                            name: 'Contains'
                        },
                        {
                            type: 'not_contains',
                            name: 'Not contains'
                        },
                        {
                            type: 'start_with',
                            name: 'Start with'
                        },
                        {
                            type: 'ends_with',
                            name: 'End with'
                        },
                        {
                            type: 'equals',
                            name: 'Equals'
                        },
                        {
                            type: 'not_equals',
                            name: 'Not equals'
                        },
                        {
                            type: 'regexp',
                            name: 'Regexp'
                        },
                        {
                            type: 'not_start_with',
                            name: 'Doesn\'t start with'
                        },
                        {
                            type: 'not_ends_with',
                            name: 'Doesn\'t end with'
                        },
                        {
                            type: 'not_regexp',
                            name: 'Regexp not equals'
                        }
                    ]
                },
                {
                    type: 'path',
                    name: 'Page Path',
                    options: {
                        required: false
                    },
                    actions: [
                        {
                            type: 'contains',
                            name: 'Contains'
                        },
                        {
                            type: 'not_contains',
                            name: 'Not contains'
                        },
                        {
                            type: 'start_with',
                            name: 'Start with'
                        },
                        {
                            type: 'ends_with',
                            name: 'End with'
                        },
                        {
                            type: 'equals',
                            name: 'Equals'
                        },
                        {
                            type: 'not_equals',
                            name: 'Not equals'
                        },
                        {
                            type: 'regexp',
                            name: 'Regexp'
                        },
                        {
                            type: 'not_start_with',
                            name: 'Doesn\'t start with'
                        },
                        {
                            type: 'not_ends_with',
                            name: 'Doesn\'t end with'
                        },
                        {
                            type: 'not_regexp',
                            name: 'Regexp not equals'
                        }
                    ]
                },
                {
                    type: 'hostname',
                    name: 'Page Hostname',
                    options: {
                        required: false
                    },
                    actions: [
                        {
                            type: 'contains',
                            name: 'Contains'
                        },
                        {
                            type: 'not_contains',
                            name: 'Not contains'
                        },
                        {
                            type: 'start_with',
                            name: 'Start with'
                        },
                        {
                            type: 'ends_with',
                            name: 'End with'
                        },
                        {
                            type: 'equals',
                            name: 'Equals'
                        },
                        {
                            type: 'not_equals',
                            name: 'Not equals'
                        },
                        {
                            type: 'regexp',
                            name: 'Regexp'
                        },
                        {
                            type: 'not_start_with',
                            name: 'Doesn\'t start with'
                        },
                        {
                            type: 'not_ends_with',
                            name: 'Doesn\'t end with'
                        },
                        {
                            type: 'not_regexp',
                            name: 'Regexp not equals'
                        }
                    ]
                },
                {
                    type: 'referer',
                    name: 'Referer',
                    options: {
                        required: false
                    },
                    actions: [
                        {
                            type: 'contains',
                            name: 'Contains'
                        },
                        {
                            type: 'not_contains',
                            name: 'Not contains'
                        },
                        {
                            type: 'start_with',
                            name: 'Start with'
                        },
                        {
                            type: 'ends_with',
                            name: 'End with'
                        },
                        {
                            type: 'equals',
                            name: 'Equals'
                        },
                        {
                            type: 'not_equals',
                            name: 'Not equals'
                        },
                        {
                            type: 'regexp',
                            name: 'Regexp'
                        },
                        {
                            type: 'not_start_with',
                            name: 'Doesn\'t start with'
                        },
                        {
                            type: 'not_ends_with',
                            name: 'Doesn\'t end with'
                        },
                        {
                            type: 'not_regexp',
                            name: 'Regexp not equals'
                        }
                    ]
                }
            ]
        },
        {
            type: 1,
            name: 'Click',
            strategies: [
                0,
                1
            ],
            variables: [
                {
                    'type': 'url',
                    'name': 'Page Url',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                },
                {
                    'type': 'path',
                    'name': 'Page Path',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                },
                {
                    'type': 'hostname',
                    'name': 'Page Hostname',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                },
                {
                    'type': 'referer',
                    'name': 'Referer',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                },
                {
                    'type': 'click_classes',
                    'name': 'Click Classes',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                },
                {
                    'type': 'click_id',
                    'name': 'Click ID',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                },
                {
                    'type': 'click_url',
                    'name': 'Click URL',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                }
            ]
        },
        {
            'type': 3,
            'name': 'Form submission',
            'strategies': [
                0,
                1
            ],
            'variables': [
                {
                    'type': 'url',
                    'name': 'Page Url',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                },
                {
                    'type': 'path',
                    'name': 'Page Path',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                },
                {
                    'type': 'hostname',
                    'name': 'Page Hostname',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                },
                {
                    'type': 'referer',
                    'name': 'Referer',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                },
                {
                    'type': 'form_classes',
                    'name': 'Form Classess',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                },
                {
                    'type': 'form_id',
                    'name': 'Form ID',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                },
                {
                    'type': 'form_url',
                    'name': 'Form URL',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                }
            ]
        },
        {
            'type': 2,
            'name': 'Event',
            'strategies': [
                1
            ],
            'variables': [
                {
                    'type': 'event',
                    'name': 'Event',
                    'options': {
                        'required': true
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                },
                {
                    'type': 'url',
                    'name': 'Page Url',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                },
                {
                    'type': 'path',
                    'name': 'Page Path',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                },
                {
                    'type': 'hostname',
                    'name': 'Page Hostname',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                },
                {
                    'type': 'referer',
                    'name': 'Referer',
                    'options': {
                        'required': false
                    },
                    'actions': [
                        {
                            'type': 'contains',
                            'name': 'Contains'
                        },
                        {
                            'type': 'not_contains',
                            'name': 'Not contains'
                        },
                        {
                            'type': 'start_with',
                            'name': 'Start with'
                        },
                        {
                            'type': 'ends_with',
                            'name': 'End with'
                        },
                        {
                            'type': 'equals',
                            'name': 'Equals'
                        },
                        {
                            'type': 'not_equals',
                            'name': 'Not equals'
                        },
                        {
                            'type': 'regexp',
                            'name': 'Regexp'
                        },
                        {
                            'type': 'not_start_with',
                            'name': 'Doesn\'t start with'
                        },
                        {
                            'type': 'not_ends_with',
                            'name': 'Doesn\'t end with'
                        },
                        {
                            'type': 'not_regexp',
                            'name': 'Regexp not equals'
                        }
                    ]
                }
            ]
        }
    ];
    /* eslint-enable */

    var id = Mock.highestId('triggers');

    var exclude = function (data, excludeArray) {
        var dataIndex = data.length;

        while (dataIndex--) {
            var excludeIndex = excludeArray.length;

            while (excludeIndex--) {
                if (data[dataIndex].id === parseInt(excludeArray[excludeIndex])) {
                    data.splice(dataIndex, 1);
                    break;
                }
            }
        }

        return data;
    };

    $httpBackend.whenGET(/\/api\/containers\/(.*)\/triggers\?*/).respond(function (method, url, data) {
        var query = url.split('?')[1],
            requestParams = {},
            params;

        var matches = url.match(/\/api\/containers\/(.*)/);

        matches = matches[1].split('/tags?');

        var criteria = {
            container: parseInt(matches[0])
        };

        data = Mock.query('triggers', criteria);

        var total = data.length;

        requestParams.exclude = [];

        var vars = query.split('&');

        for (var i = 0; i < vars.length; i++) {
            var pair = vars[i].split('=');

            if (decodeURIComponent(pair[0]).split(/\[(.*)\]/)[0] === 'exclude') {
                requestParams.exclude.push(decodeURIComponent(pair[1]));
            } else {
                requestParams[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
            }
        }

        // parse url params
        for (var key in requestParams) {
            if (key === 'exclude') {
                data = exclude(data, requestParams[key]);
            } else if (key.indexOf('[') >= 0) {
                params = key.split(/\[(.*)\]/);
                var value = requestParams[key], lastKey = '';

                /* eslint-disable */
                angular.forEach(params.reverse(), function(name) {
                    if (name !== '') {
                        var v = value;
                        value = {};
                        value[lastKey = name] = !isNaN(v) ? parseFloat(v) : v;
                    }
                });
                /* eslint-enable */
                requestParams[lastKey] = angular.extend(requestParams[lastKey] || {}, value[lastKey]);
            } else {
                requestParams[key] = !isNaN(requestParams[key]) ? parseFloat(requestParams[key]) : requestParams[key];
            }
        }

        /* eslint-disable */
        params = new ngTableParams({
            page: (requestParams.offset/requestParams.limit) + 1,
            count: requestParams.limit
        });
        /* eslint-enable */

        data = data.slice((params.page() - 1) * params.count(), params.page() * params.count());

        return [200, {
            data: data,
            total: total
        }];
    });

    $httpBackend.whenPOST(/\/api\/containers\/(.*)\/triggers/).respond(
        function (method, url, data) {
            data = JSON.parse(data);
            var matches = url.match(/\/api\/containers\/(.*)/);

            matches = matches[1].split('/triggers?');

            var conditions = [];

            for (var index in data.conditions) {
                if (data.conditions[index] !== undefined) {
                    /* eslint-disable */
                    data.conditions[index].created_at = new Date();
                    data.conditions[index].updated_at = new Date();
                    data.conditions[index].id = 1;

                    conditions.push(data.conditions[index]);
                    /* eslint-enable */
                }
            }

            id++;

            /* eslint-disable */
            var newTrigger = {
                id: id,
                name: data.name,
                created_at: new Date(),
                updated_at: new Date(),
                type: data.type,
                conditions: conditions,
                container: parseInt(matches[0]),
                tags_count: 11
            };

            /* eslint-enable */
            Mock.add('triggers', newTrigger);

            return [201, {data: newTrigger}];
        }
    );

    $httpBackend.whenGET(/\/api\/triggers\/(.*)/).respond(function (method, url) {
        var matches = url.match(/\/api\/triggers\/(.*)/);

        matches = matches[1].split('?');

        var trigger = Mock.get('triggers', matches[0]);

        return [200, {data: trigger}];
    });

    $httpBackend.whenPUT(/\/api\/triggers\/(.*)/).respond(
        function (method, url, data) {
            data = JSON.parse(data);

            var matches = url.match(/\/api\/triggers\/(.*)/);

            matches = matches[1].split('?');

            var trigger = Mock.get('triggers', matches[0]);

            /* eslint-disable */
            trigger.name = data.name;
            trigger.type = data.type;
            trigger.conditions = data.conditions;
            trigger.updated_at = new Date();
            /* eslint-enable */

            Mock.update('triggers', trigger);

            return [200, {data: trigger}];
        }
    );

    $httpBackend.whenDELETE(/\/api\/triggers\/(.*)/).respond(function (method, url) {
        var matches = url.match(/\api\/triggers\/(.*)/);

        matches = matches[1].split('?');

        Mock.remove('triggers', parseInt(matches[0]));

        return [204];
    });

    $httpBackend.whenGET(/\/api\/conditions?(.*)/).respond(function () {
        return [200, condtions];
    });
}

module.exports = {triggerMock, triggersList};
